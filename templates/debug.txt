Aiuta a debuggare il seguente codice.

ERRORE/COMPORTAMENTO:
{error}

CODICE:
{code}

CONTESTO:
{context}

Per favore fornisci:

1. ANALISI DELL'ERRORE
- Tipo di errore
- Cause probabili
- Impatto sul sistema

2. TRACCIAMENTO
- Stack trace analysis
- Flusso di esecuzione
- Punti critici

3. RISOLUZIONE
- Soluzioni proposte
- Fix immediati
- Correzioni a lungo termine

4. PREVENZIONE
- Come evitare errori simili
- Best practices da implementare
- Testing suggestions

Fornisci esempi di codice corretto e spiega il ragionamento dietro ogni soluzione proposta.
Aggiungi suggerimenti per il debugging e strumenti utili specifici per questo caso.